# Admin API Configuration
# This service provides REST API endpoints for CMS to manage phone number whitelist

Http:
  Name: admin-api
  Host: 0.0.0.0
  Port: 8088
  Timeout: 60000
  Log:
    Mode: file
    Path: ../logs/admin
    Level: info

Mysql:
  Addr: 127.0.0.1:3306
  DSN: root:@tcp(127.0.0.1:3306)/teamgram?charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai
  Active: 64
  Idle: 64
  IdleTimeout: 4h
  QueryTimeout: 5s
  ExecTimeout: 5s
  TranTimeout: 5s

# Redis configuration for nonce tracking and secret caching
Redis:
  Host: 127.0.0.1:6379
  Type: node

Hmac:
  Enabled: true
  ClockSkew: 600           # Max time difference in seconds (10 minutes)
  NonceTTL: 300            # Nonce expiry in seconds (5 minutes)
  SecretCacheTTL: 300      # Secret cache TTL in seconds (5 minutes)
  # KekB64: ""             # Base64 encoded 32-byte KEK (or set NS_KEK_B64 env var)
